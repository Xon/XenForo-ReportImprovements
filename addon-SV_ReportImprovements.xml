<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="SV_ReportImprovements" title="Report Improvements" version_string="1.3.4" version_id="1030400" url="https://xenforo.com/community/resources/report-improvements-by-xon.4345/" install_callback_class="SV_ReportImprovements_Installer" install_callback_method="install" uninstall_callback_class="SV_ReportImprovements_Installer" uninstall_callback_method="uninstall">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates/>
  <admin_template_modifications>
    <modification template="user_edit" modification_key="sv_integrated_report_user_edit" description="Add Spam Cleaner" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<li><a href="{xen:adminlink banning/users/add, $user}" class="OverlayTrigger">{xen:phrase ban_user}</a></li>]]></find>
      <replace><![CDATA[$0
<li><a href="{xen:link spam-cleaner, $user}" class="OverlayTrigger">{xen:phrase spam_cleaner}</a></li>]]></replace>
    </modification>
  </admin_template_modifications>
  <code_events/>
  <code_event_listeners>
    <listener event_id="controller_pre_dispatch" execute_order="10" callback_class="SV_ReportImprovements_Listener" callback_method="controller_pre_dispatch" active="1" hint="" description="Inject Report Center session info"/>
    <listener event_id="load_class" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_ReportHandler_Post" description="XenForo_ReportHandler_Post"/>
    <listener event_id="load_class" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_ReportHandler_ProfilePost" description="XenForo_ReportHandler_ProfilePost"/>
    <listener event_id="load_class" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_ReportHandler_ProfilePostComment" description="XenForo_ReportHandler_ProfilePostComment"/>
    <listener event_id="load_class" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_ReportHandler_User" description="XenForo_ReportHandler_User"/>
    <listener event_id="load_class" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_Route_Prefix_Reports" description="XenForo_Route_Prefix_Reports"/>
    <listener event_id="load_class_controller" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_ControllerPublic_Member" description="XenForo_ControllerPublic_Member"/>
    <listener event_id="load_class_controller" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_ControllerPublic_Warning" description="XenForo_ControllerPublic_Warning"/>
    <listener event_id="load_class_controller" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_ControllerPublic_Report" description="XenForo_ControllerPublic_Report"/>
    <listener event_id="load_class_datawriter" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_DataWriter_Warning" description="XenForo_DataWriter_Warning"/>
    <listener event_id="load_class_datawriter" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_DataWriter_ReportComment" description="XenForo_DataWriter_ReportComment"/>
    <listener event_id="load_class_model" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenES_Model_Elasticsearch" description="XenES_Model_Elasticsearch"/>
    <listener event_id="load_class_model" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_Model_Conversation" description="XenForo_Model_Conversation"/>
    <listener event_id="load_class_model" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_Model_Forum" description="XenForo_Model_Forum"/>
    <listener event_id="load_class_model" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_Model_User" description="XenForo_Model_User"/>
    <listener event_id="load_class_model" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_Model_ProfilePost" description="XenForo_Model_ProfilePost"/>
    <listener event_id="load_class" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_Model_Report" description="XenForo_Model_Report"/>
    <listener event_id="load_class" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class_patch" active="0" hint="XenForo_Model_Report" description="XenForo_Model_Report"/>
    <listener event_id="load_class_model" execute_order="4345" callback_class="SV_ReportImprovements_Listener" callback_method="load_class" active="1" hint="XenForo_Model_Warning" description="XenForo_Model_Warning"/>
  </code_event_listeners>
  <cron/>
  <email_templates/>
  <email_template_modifications/>
  <optiongroups>
    <group group_id="sv_report_improvements" display_order="141" debug_only="0"/>
    <option option_id="sv_default_resolve_report_on_warning" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="sv_report_improvements" display_order="110"/>
    </option>
    <option option_id="sv_moderators_respect_view_node" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="sv_report_improvements" display_order="210"/>
    </option>
    <option option_id="sv_report_alert_mode" edit_format="select" data_type="string" can_backup="1">
      <default_value>watchers</default_value>
      <edit_format_params>always_alert={xen:phrase sv_reports_alert_moderators_always}
moderators_new_alert={xen:phrase sv_reports_alert_moderators_new}
watchers={xen:phrase sv_reports_alert_watchers}</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="sv_report_improvements" display_order="230"/>
    </option>
    <option option_id="sv_report_new_warnings" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="sv_report_improvements" display_order="100"/>
    </option>
    <option option_id="sv_ri_log_to_report_natural_warning_expire" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="sv_report_improvements" display_order="10"/>
    </option>
    <option option_id="sv_ri_user_id" edit_format="textbox" data_type="unsigned_integer" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="sv_report_improvements" display_order="1"/>
    </option>
  </optiongroups>
  <permissions>
    <permission_groups/>
    <permissions>
      <permission permission_group_id="conversation" permission_id="viewReportConversation" permission_type="flag" default_value="unset" interface_group_id="ri_ReportCenter" display_order="400"/>
      <permission permission_group_id="forum" permission_id="viewReportPost" permission_type="flag" default_value="unset" interface_group_id="ri_ReportCenter" display_order="200"/>
      <permission permission_group_id="general" permission_id="assignReport" permission_type="flag" depend_permission_id="viewReports" default_value="unset" interface_group_id="ri_ReportCenter" display_order="50"/>
      <permission permission_group_id="general" permission_id="replyReport" permission_type="flag" depend_permission_id="viewReports" default_value="unset" interface_group_id="ri_ReportCenter" display_order="20"/>
      <permission permission_group_id="general" permission_id="replyReportClosed" permission_type="flag" depend_permission_id="viewReports" default_value="unset" interface_group_id="ri_ReportCenter" display_order="30"/>
      <permission permission_group_id="general" permission_id="reportLike" permission_type="flag" default_value="unset" interface_group_id="ri_ReportCenter" display_order="70"/>
      <permission permission_group_id="general" permission_id="updateReport" permission_type="flag" depend_permission_id="viewReports" default_value="unset" interface_group_id="ri_ReportCenter" display_order="40"/>
      <permission permission_group_id="general" permission_id="viewReportUser" permission_type="flag" default_value="unset" interface_group_id="ri_ReportCenter" display_order="100"/>
      <permission permission_group_id="general" permission_id="viewReporterUsername" permission_type="flag" depend_permission_id="viewReports" default_value="unset" interface_group_id="ri_ReportCenter" display_order="60"/>
      <permission permission_group_id="general" permission_id="viewReports" permission_type="flag" default_value="unset" interface_group_id="ri_ReportCenter" display_order="10"/>
      <permission permission_group_id="profilePost" permission_id="viewReportProfilePost" permission_type="flag" default_value="unset" interface_group_id="ri_ReportCenter" display_order="300"/>
    </permissions>
    <interface_groups>
      <interface_group interface_group_id="ri_ReportCenter" display_order="800"/>
    </interface_groups>
  </permissions>
  <phrases>
    <phrase title="a_report_can_not_be_created" version_id="4" version_string="0.0.4"><![CDATA[A report can not be created for the content type: {content_type}.]]></phrase>
    <phrase title="a_report_will_be_created" version_id="4" version_string="0.0.4"><![CDATA[A report will be created.]]></phrase>
    <phrase title="likes_your_report_comment" version_id="1020100" version_string="1.2.1"><![CDATA[Likes your report comment]]></phrase>
    <phrase title="new_report_comment" version_id="1020100" version_string="1.2.1"><![CDATA[New report comment]]></phrase>
    <phrase title="option_group_sv_report_improvements" version_id="3" version_string="0.0.3b"><![CDATA[Report Improvements]]></phrase>
    <phrase title="option_group_sv_report_improvements_description" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="option_sv_default_resolve_report_on_warning" version_id="4" version_string="0.0.4"><![CDATA[Resolve Report on Warning]]></phrase>
    <phrase title="option_sv_default_resolve_report_on_warning_explain" version_id="4" version_string="0.0.4"><![CDATA[By default, resolve an contents report when creating a warning.]]></phrase>
    <phrase title="option_sv_moderators_respect_view_node" version_id="8" version_string="0.0.8"><![CDATA[Reports respect view-node permission]]></phrase>
    <phrase title="option_sv_moderators_respect_view_node_explain" version_id="8" version_string="0.0.8"><![CDATA[Only allow moderators to see reports from forums they can see]]></phrase>
    <phrase title="option_sv_report_alert_mode" version_id="1010100" version_string="1.1.1"><![CDATA[Report Alerting Mode]]></phrase>
    <phrase title="option_sv_report_alert_mode_explain" version_id="1010100" version_string="1.1.1"><![CDATA[Changes the selection criteria for alerts when a report comment is created.]]></phrase>
    <phrase title="option_sv_report_new_warnings" version_id="3" version_string="0.0.3b"><![CDATA[Report New Warnings]]></phrase>
    <phrase title="option_sv_report_new_warnings_explain" version_id="3" version_string="0.0.3b"><![CDATA[Automatically create Reports for Warnings on content without an associated report]]></phrase>
    <phrase title="option_sv_ri_log_to_report_natural_warning_expire" version_id="2" version_string="0.0.2"><![CDATA[Log Automatically Expiring Warning to Report]]></phrase>
    <phrase title="option_sv_ri_log_to_report_natural_warning_expire_explain" version_id="2" version_string="0.0.2"><![CDATA[]]></phrase>
    <phrase title="option_sv_ri_user_id" version_id="1" version_string="0.0.1"><![CDATA[Reporter]]></phrase>
    <phrase title="option_sv_ri_user_id_explain" version_id="1020003" version_string="1.2.0 Alpha 3"><![CDATA[Enter the user id of the person reporting expired warnings]]></phrase>
    <phrase title="permission_conversation_viewReportConversation" version_id="1" version_string="0.0.1"><![CDATA[View Conversation Report]]></phrase>
    <phrase title="permission_forum_viewReportPost" version_id="1" version_string="0.0.1"><![CDATA[View Post Report]]></phrase>
    <phrase title="permission_general_assignReport" version_id="1020000" version_string="1.2.0 Alpha1"><![CDATA[Assign Report]]></phrase>
    <phrase title="permission_general_replyReport" version_id="1020005" version_string="1.2.0 RC2"><![CDATA[Comment on Report]]></phrase>
    <phrase title="permission_general_replyReportClosed" version_id="1020005" version_string="1.2.0 RC2"><![CDATA[Comment on Closed Report]]></phrase>
    <phrase title="permission_general_reportLike" version_id="1010000" version_string="1.1.0"><![CDATA[Like Report Comments]]></phrase>
    <phrase title="permission_general_updateReport" version_id="1020000" version_string="1.2.0 Alpha1"><![CDATA[Update Report]]></phrase>
    <phrase title="permission_general_viewReporterUsername" version_id="1020002" version_string="1.2.0 Alpha 2"><![CDATA[View Reporter Username]]></phrase>
    <phrase title="permission_general_viewReports" version_id="1020000" version_string="1.2.0a"><![CDATA[View Report Center]]></phrase>
    <phrase title="permission_general_viewReportUser" version_id="1" version_string="0.0.1"><![CDATA[View User Report]]></phrase>
    <phrase title="permission_interface_ri_ReportCenter" version_id="11" version_string="0.0.11"><![CDATA[Report Center]]></phrase>
    <phrase title="permission_profilePost_viewReportProfilePost" version_id="1" version_string="0.0.1"><![CDATA[View ProfilePost Report]]></phrase>
    <phrase title="please_select_a_report_comment_search_type" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Please select at least one report comment type to search.]]></phrase>
    <phrase title="report_alert_sent" version_id="1010005" version_string="1.1.0 RC4"><![CDATA[Report Alert Sent]]></phrase>
    <phrase title="report_alert_sent_x" version_id="1010005" version_string="1.1.0 RC4"><![CDATA[Report Alert: {alert}]]></phrase>
    <phrase title="report_comment" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Report Comment]]></phrase>
    <phrase title="report_options" version_id="4" version_string="0.0.4"><![CDATA[Report Options]]></phrase>
    <phrase title="resolve_linked_report" version_id="4" version_string="0.0.4"><![CDATA[Resolve linked report]]></phrase>
    <phrase title="search_include_report_comments" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Include report comments]]></phrase>
    <phrase title="search_include_user_reports" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Include user reports]]></phrase>
    <phrase title="search_reports_only" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Search reports only]]></phrase>
    <phrase title="search_report_comments" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Search Report Comments]]></phrase>
    <phrase title="someone_likes_one_of_your_report_comment" version_id="1020100" version_string="1.2.1"><![CDATA[Someone likes one of your report comments]]></phrase>
    <phrase title="someone_posts_a_new_report_comment" version_id="1020100" version_string="1.2.1"><![CDATA[Someone posts a new report comment]]></phrase>
    <phrase title="someone_tags_you_in_report_comment" version_id="1020100" version_string="1.2.1"><![CDATA[Someone mentions you in a report comment]]></phrase>
    <phrase title="sv_like_report_comment" version_id="1010000" version_string="1.1.0"><![CDATA[Like report comment]]></phrase>
    <phrase title="sv_members_who_liked_this_report_comment" version_id="1010000" version_string="1.1.0"><![CDATA[Members Who Liked This Report Comment]]></phrase>
    <phrase title="sv_no_one_has_liked_this_report_comment_yet" version_id="1010000" version_string="1.1.0"><![CDATA[No one has liked this report comment yet.]]></phrase>
    <phrase title="sv_reports_alert_moderators_always" version_id="1010100" version_string="1.1.1"><![CDATA[Alert all moderators]]></phrase>
    <phrase title="sv_reports_alert_moderators_new" version_id="1010100" version_string="1.1.1"><![CDATA[Alert watchers on reply and all moderators for new alerts.]]></phrase>
    <phrase title="sv_reports_alert_watchers" version_id="1010100" version_string="1.1.1"><![CDATA[Alert watchers on reply ]]></phrase>
    <phrase title="sv_report_center" version_id="1020100" version_string="1.2.1"><![CDATA[Report Center]]></phrase>
    <phrase title="sv_report_comment_by" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Report comment by]]></phrase>
    <phrase title="sv_report_comment_by_x" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Report comment By {username}]]></phrase>
    <phrase title="sv_ri_migrating" version_id="11" version_string="0.0.11"><![CDATA[Linking Warnings and Reports]]></phrase>
    <phrase title="sv_ri_operation_type_acknowledge" version_id="1030300" version_string="1.3.3"><![CDATA[Acknowledged Warning]]></phrase>
    <phrase title="sv_ri_operation_type_delete" version_id="2" version_string="0.0.2"><![CDATA[Deleted Warning]]></phrase>
    <phrase title="sv_ri_operation_type_edit" version_id="2" version_string="0.0.2"><![CDATA[Edited Warning]]></phrase>
    <phrase title="sv_ri_operation_type_expire" version_id="2" version_string="0.0.2"><![CDATA[Expired Warning]]></phrase>
    <phrase title="sv_ri_operation_type_new" version_id="2" version_string="0.0.2"><![CDATA[New Warning]]></phrase>
    <phrase title="sv_ri_x_tagged_on_report" version_id="10" version_string="0.0.10"><![CDATA[{name} tagged you in the report {report}.]]></phrase>
    <phrase title="sv_select_this_report_comment_by_x" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[Select this report comment by {name}]]></phrase>
    <phrase title="sv_unlike_report_comment" version_id="1010000" version_string="1.1.0"><![CDATA[Unlike report comment]]></phrase>
    <phrase title="sv_user_report" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[User Report]]></phrase>
    <phrase title="sv_user_report_by" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[User report by]]></phrase>
    <phrase title="sv_x_acknowledged_a_warning" version_id="1030300" version_string="1.3.3"><![CDATA[{name} acknowledged a warning issued on the report {report}.]]></phrase>
    <phrase title="sv_x_commented_on_report" version_id="1010000" version_string="1.1.0"><![CDATA[{name} commented on the report {report}.]]></phrase>
    <phrase title="sv_x_issued_a_warning_on_report" version_id="1010000" version_string="1.1.0"><![CDATA[{name} issued a warning on the report {report}.]]></phrase>
    <phrase title="sv_x_liked_your_comment_in_the_report_y" version_id="1010000" version_string="1.1.0"><![CDATA[{name} liked your comment in the report {title}.]]></phrase>
    <phrase title="sv_x_liked_ys_comment_in_the_report_z" version_id="1010000" version_string="1.1.0"><![CDATA[{name} liked <a {posterParams}>{poster}'s comment</a> in the report {title}.]]></phrase>
    <phrase title="sv_x_reported_on_report" version_id="1010100" version_string="1.1.1"><![CDATA[{name} reported content {report}.]]></phrase>
    <phrase title="sv_x_state_change_report_assigned" version_id="1010000" version_string="1.1.0"><![CDATA[{name} assigned the report {report}.]]></phrase>
    <phrase title="sv_x_state_change_report_open" version_id="1010100" version_string="1.1.1"><![CDATA[{name} reopened the report {report}.]]></phrase>
    <phrase title="sv_x_state_change_report_rejected" version_id="1010000" version_string="1.1.0"><![CDATA[{name} rejected the report {report}.]]></phrase>
    <phrase title="sv_x_state_change_report_resolved" version_id="1010000" version_string="1.1.0"><![CDATA[{name} resolved the report {report}.]]></phrase>
    <phrase title="sv_x_warning_points_for_y" version_id="1010200" version_string="1.1.2"><![CDATA[{points} points for {reason}]]></phrase>
    <phrase title="sv_you_sure_you_want_to_like_this_report_comment" version_id="1010000" version_string="1.1.0"><![CDATA[Are you sure you want to like this comment?]]></phrase>
    <phrase title="sv_you_sure_you_want_to_unlike_this_report_comment" version_id="1010000" version_string="1.1.0"><![CDATA[Are you sure you want to unlike this comment?]]></phrase>
    <phrase title="tags_you_in_report_comment" version_id="1020100" version_string="1.2.1"><![CDATA[Mentions you in a report comment]]></phrase>
    <phrase title="warning_log_operation_type" version_id="1" version_string="0.0.1"><![CDATA[Operation Type]]></phrase>
    <phrase title="warning_points_lower_bound" version_id="1010003" version_string="1.1.0 RC3"><![CDATA[Lower bound]]></phrase>
    <phrase title="warning_points_upper_bound" version_id="1010003" version_string="1.1.0 RC3"><![CDATA[Upper bound]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties/>
  <templates>
    <template title="alert_report_comment_insert" version_id="1030400" version_string="1.3.4"><![CDATA[<xen:set var="$specific_type">0</xen:set>
<xen:if is="{$content.state_change}">
    <xen:if is="{$content.state_change} == 'assigned'">
        {xen:phrase sv_x_state_change_report_assigned,
        'name={xen:helper username, $user, 'subject'}',
        'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
        }
    <xen:set var="$specific_type">1</xen:set>
    </xen:if>
    <xen:if is="{$content.state_change} == 'open'">
        {xen:phrase sv_x_state_change_report_open,
        'name={xen:helper username, $user, 'subject'}',
        'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
        }
    <xen:set var="$specific_type">1</xen:set>
    </xen:if>
    <xen:if is="{$content.state_change} == 'resolved'">
        {xen:phrase sv_x_state_change_report_resolved,
        'name={xen:helper username, $user, 'subject'}',
        'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
        }
    <xen:set var="$specific_type">1</xen:set>
    </xen:if>
    <xen:if is="{$content.state_change} == 'rejected'">
        {xen:phrase sv_x_state_change_report_rejected,
        'name={xen:helper username, $user, 'subject'}',
        'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
        }
    <xen:set var="$specific_type">1</xen:set>
    </xen:if>
</xen:if>
<xen:if is="!{$specific_type} and {$content.operation_type} === 'acknowledge'">
    {xen:phrase sv_x_acknowledged_a_warning,
    'name={xen:helper username, $user, 'subject'}',
    'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
    }
    <xen:set var="$specific_type">1</xen:set>
</xen:if>
<xen:if is="!{$specific_type} and {$content.warning_log_id}">
    {xen:phrase sv_x_issued_a_warning_on_report,
    'name={xen:helper username, $user, 'subject'}',
    'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
    }
    <xen:set var="$specific_type">1</xen:set>
</xen:if>
<xen:if is="!{$specific_type}">
    <xen:if is="{$content.is_report}">
        {xen:phrase sv_x_reported_on_report,
        'name={xen:helper username, $user, 'subject'}',
        'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
        }
    <xen:else />
        {xen:phrase sv_x_commented_on_report,
        'name={xen:helper username, $user, 'subject'}',
        'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
        }
    </xen:if>
</xen:if>]]></template>
    <template title="alert_report_comment_like" version_id="1030200" version_string="1.3.2"><![CDATA[{xen:phrase sv_x_liked_your_comment_in_the_report_y,
    'name={xen:helper username, $user, 'subject'}',
    'title=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:helper threadPrefix, $content}{xen:raw $content.report.contentTitle}</a>'}]]></template>
    <template title="alert_report_comment_tag" version_id="1030200" version_string="1.3.2"><![CDATA[{xen:phrase sv_ri_x_tagged_on_report,
    'name={xen:helper username, $user, 'subject'}',
    'report=<a href="{xen:link reports/comment, $content.report, 'report_comment_id={$content.report_comment_id}'}" class="PopupItemLink">{xen:raw $content.report.contentTitle}</a>'
}]]></template>
    <template title="ir_report_display" version_id="1020005" version_string="1.2.0 RC2"><![CDATA[<xen:if is="{$report}">
    <xen:require css="ir_report_overlay.css" />
    <div class="discussionList section">
        <dl class="sectionHeaders">
            <dt class="posterAvatar"><a><span></span></a></dt>
            <dd class="main">
                <a class="title"><span>{xen:phrase content}</span></a>
            </dd>
            <dd class="stats">
                <a class="major"><span>{xen:phrase comments}</span></a>
            </dd>
            <dd class="lastPost"><a><span>{xen:phrase last_modified}</span></a></dd>
        </dl>
        <ol class="discussionListItems">
            <xen:include template="report_list_item" />
        </ol>
    </div>
</xen:if>]]></template>
    <template title="ir_report_overlay.css" version_id="14" version_string="0.0.14"><![CDATA[.xenOverlay .formOverlay .discussionListItem .title a {
    color: {xen:property primaryMedium};
}

.xenOverlay .formOverlay .discussionListItem .username {
    color: {xen:property primaryMedium};
}

.xenOverlay .formOverlay .discussionListItem .stats dd {
    color: {xen:property contentText};
}

.xenOverlay .section {
    border: none;
}

]]></template>
    <template title="ir_resolve_report" version_id="1010800" version_string="1.1.8"><![CDATA[<dl class="ctrlUnit">
    <xen:if is="{$CanCreateReport}">
        <dt>{xen:phrase report_options}:</dt>
        <dd>
            <ul>
                <li><label><input type="checkbox" id="resolveLinkedReport" name="resolve_linked_report" value="1" class="Disabler" {xen:if $xenOptions.sv_default_resolve_report_on_warning, 'checked="checked"' } /> {xen:phrase resolve_linked_report} </label></li>
                <xen:if is="!{$report}">
                <li>{xen:phrase a_report_will_be_created}</li>
                </xen:if>
            </ul>
        </dd>    
    <xen:elseif is="{$ContentType}" />
        <dt></dt>
        <dd>
            <ul>
                <li>{xen:phrase a_report_can_not_be_created, 'content_type={$ContentType}'}</li>
            </ul>
        </dd>
    </xen:if>
</dl>]]></template>
    <template title="member_warn_ir_options" version_id="10020" version_string="1.0.20"><![CDATA[<fieldset>
<xen:include template="ir_resolve_report" />
</fieldset>
<xen:include template="ir_report_display" />]]></template>
    <template title="news_feed_item_report_comment_like" version_id="1020008" version_string="1.2.0 RC6"><![CDATA[<h3 class="description">

    <xen:if is="{$content.user_id} == {$visitor.user_id}">

        <xen:comment><!-- $user liked your post --></xen:comment>
        {xen:phrase sv_x_liked_your_comment_in_the_report_y,
            'name={xen:if $user.user_id, {xen:helper username, $user, 'primaryText'}, '<span class="primaryText">{xen:phrase unknown_member}</span>'}',
            'title=<a href="{xen:link reports/comment, $content, 'report_comment_id={$content.report_comment_id}'}"{xen:if '{$content.hasPreview}', ' class="PreviewTooltip" data-previewUrl="{xen:link reports/preview, $content, 'report_comment_id={$content.report_comment_id}'}"'}">{xen:helper threadPrefix, $content}{$content.title}</a>'}

    <xen:else />

        <xen:comment><!-- $user liked $contentUser's post --></xen:comment>
        {xen:phrase sv_x_liked_ys_comment_in_the_report_z,
            'name={xen:if $user.user_id, {xen:helper username, $user, 'primaryText'}, '<span class="primaryText">{xen:phrase unknown_member}</span>'}',
            'posterParams=href="{xen:link posts, $content}"', 'poster={$content.username}',
            'title=<a href="{xen:link reports/comment, $content, 'report_comment_id={$content.report_comment_id}'}"{xen:if '{$content.hasPreview}', ' class="PreviewTooltip" data-previewUrl="{xen:link reports/preview, $content, 'report_comment_id={$content.report_comment_id}'}"'}>{xen:helper threadPrefix, $content}{$content.title}</a>'}

    </xen:if>

</h3>

<p class="snippet">{xen:helper snippet, $content.message, $xenOptions.newsFeedMessageSnippetLength, {xen:array 'stripQuote=1'}}</p>

<xen:include template="news_feed_attached_images" />]]></template>
    <template title="report_list_item_report_node" version_id="8" version_string="0.0.8"><![CDATA[<xen:if is="{$report.extraContent.node_title} AND {$report.extraContent.node_id}">
, <a href="{xen:link forums, $report.extraContent}" class="forumLink">{$report.extraContent.node_title}</a>
</xen:if>]]></template>
    <template title="search_bar_reports_only" version_id="1010002" version_string="1.1.0 RC2"><![CDATA[<label title="{xen:phrase search_reports_only}"><input type="checkbox" name="type" value="report_comment" id="search_bar_reports" class="Disabler AutoChecker" checked="checked" /> {xen:phrase search_reports_only}</label>
    <ul id="search_bar_reports_Disabler">
        <li><label><input type="checkbox" name="type[report_comment][include_report_comments]" value="1" checked="checked"
            id="search_bar_include_report_comments" class="AutoChecker"
            /> {xen:phrase  search_include_report_comments}</label></li>
        <li><label><input type="checkbox" name="type[report_comment][include_user_reports]" value="1" checked="checked"
            id="search_bar_include_user_reports" class="AutoChecker"
            /> {xen:phrase search_include_user_reports}</label></li>
    </ul>]]></template>
    <template title="search_form_report_comment" version_id="1020008" version_string="1.2.0 RC6"><![CDATA[<xen:title>{xen:phrase search_report_comments}</xen:title>

<xen:navigation>
    <xen:breadcrumb href="{xen:link full:search}">{xen:phrase search}</xen:breadcrumb>
</xen:navigation>

<form action="{xen:link 'search/search'}" method="post" class="xenForm AutoValidator"
    data-optInOut="optIn"
    data-redirect="true">

    <xen:include template="search_form_tabs" />

    <dl class="ctrlUnit">
        <dt><label for="ctrl_keywords">{xen:phrase keywords}:</label></dt>
        <dd>
            <ul>
                <li><input type="search" name="keywords" value="{$search.keywords}" results="0" class="textCtrl" id="ctrl_keywords" autofocus="true" /></li>
                <xen:comment>
                <li><label for="ctrl_title_only"><input type="checkbox" name="title_only" id="ctrl_title_only" value="1" {xen:checked '{$search.title_only}'} /> {xen:phrase search_titles_only}</label></li>
                </xen:comment>
            </ul>
        </dd>
    </dl>

    <fieldset>
        <dl class="ctrlUnit">
            <dt><label for="ctrl_users">{xen:phrase posted_by_member}:</label></dt>
            <dd>
                <ul>
                    <li>
                        <input type="text" name="users" value="{$search.users}" class="textCtrl AutoComplete" id="ctrl_users" />
                        <p class="explain">{xen:phrase separate_names_with_comma}</p>
                    </li>
                    <xen:comment>
                        <!-- this doesn't work as expected -->
                        <li><label><input type="checkbox" name="user_content" value="thread" {xen:checked '{$search.user_content} == "conversation"'} /> {xen:phrase search_conversations_started_by_this_member_only}</label></li>
                    </xen:comment>
                </ul>
            </dd>
        </dl>
    </fieldset>

    <fieldset>
        <dl class="ctrlUnit">
            <dt><label for="ctrl_date">{xen:phrase newer_than}:</label></dt>
            <dd>
                <input type="date" name="date" value="{$search.date}" class="textCtrl" id="ctrl_date" />
            </dd>
        </dl>
        <dl class="ctrlUnit">
            <dt></dt>
            <dd>
                <label for="ctrl_search_include_report_comments"><input type="checkbox" name="include_report_comments" value="1"{xen:if '{$search.include_report_comments}', ' checked="checked"'} id="ctrl_include_report_comments" /> {xen:phrase search_include_report_comments}</label>
            </dd>
        </dl>
        <dl class="ctrlUnit">
            <dt></dt>
            <dd>
                <label for="ctrl_search_include_user_reports"><input type="checkbox" name="include_user_reports" value="1"{xen:if '{$search.include_user_reports}', ' checked="checked"'} id="ctrl_search_include_user_reports" /> {xen:phrase search_include_user_reports}</label>
            </dd>
        </dl>
        <xen:if is="{$search.range_query}">
        <dl class="ctrlUnit">
            <dt><label for="ctrl_date">{xen:phrase warning_points}:</label></dt>
            <dd>
                <input type="number" placeholder="{xen:phrase warning_points_lower_bound}" name="warning_points[lower]" value="{$search.warning_points.lower}" class="textCtrl" id="ctrl_warning_points_lower" /> -
                <input type="number" placeholder="{xen:phrase warning_points_upper_bound}" name="warning_points[upper]" value="{$search.warning_points.upper}" class="textCtrl" id="ctrl_warning_points_upper" />
            </dd>
        </dl>
        </xen:if>
<xen:comment>
        <dl class="ctrlUnit">
            <dt><label for="ctrl_reply_count">{xen:phrase minimum_number_of_reports}:</label></dt>
            <dd>
                <!-- Chrome does horrible things with input:number -->
                <input type="number" name="report_count" value="{$search.report_count}" class="textCtrl" id="ctrl_reply_count" min="0" step="5" />
            </dd>
        </dl>
        <dl class="ctrlUnit">
            <dt><label for="ctrl_reply_count">{xen:phrase minimum_number_of_comments}:</label></dt>
            <dd>
                <!-- Chrome does horrible things with input:number -->
                <input type="number" name="comment_count" value="{$search.comment_count}" class="textCtrl" id="ctrl_comment_count" min="0" step="5" />
            </dd>
        </dl>
        <dl class="ctrlUnit">
            <dt><label for="ctrl_reply_count">{xen:phrase minimum_number_of_warnings}:</label></dt>
            <dd>
                <!-- Chrome does horrible things with input:number -->
                <input type="number" name="warning_count" value="{$search.warning_count}" class="textCtrl" id="ctrl_warning_count" min="0" step="5" />
            </dd>
        </dl>
</xen:comment>
    </fieldset>

    <dl class="ctrlUnit">
        <dt><label>{xen:phrase order_by}:</label></dt>
        <dd>
            <ul>
                <li><label for="ctrl_order_date"><input type="radio" name="order" id="ctrl_order_date" value="date"{xen:checked '{$search.order} == "date"'} /> {xen:phrase most_recent}</label></li>
<xen:comment>
                <li><label for="ctrl_order_replies"><input type="radio" name="order" id="ctrl_order_reports" value="replies"{xen:checked '{$search.order} == "replies"'} /> {xen:phrase most_reports}</label></li>
                <li><label for="ctrl_order_replies"><input type="radio" name="order" id="ctrl_order_comments" value="replies"{xen:checked '{$search.order} == "comments"'} /> {xen:phrase most_comments}</label></li>
                <li><label for="ctrl_order_replies"><input type="radio" name="order" id="ctrl_order_warnings" value="replies"{xen:checked '{$search.order} == "warnings"'} /> {xen:phrase most_warnings}</label></li>
</xen:comment>
                <xen:if is="{$supportsRelevance}"><li><label for="ctrl_order_relevance"><input type="radio" name="order" id="ctrl_order_relevance" value="relevance"{xen:checked '{$search.order} == "relevance"'} /> {xen:phrase relevance}</label></li></xen:if>
            </ul>
        </dd>
    </dl>

<xen:comment>
    <dl class="ctrlUnit">
        <dt></dt>
        <dd><label for="ctrl_group_discussion"><input type="checkbox" name="group_discussion" id="ctrl_group_discussion" value="1"{xen:checked '{$search.group_discussion}'} /> {xen:phrase display_results_as_reports}</label></dd>
    </dl>
</xen:comment>

    <dl class="ctrlUnit submitUnit">
        <dt></dt>
        <dd><input type="submit" value="{xen:phrase search}" accesskey="s" class="button primary" /></dd>
    </dl>

    <input type="hidden" name="type" value="report_comment" />
    <input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />

    <script>

    $(function()
    {
        $('#TitleRemove').click(function(e)
        {
            $(this).closest('dl.ctrlUnit').xfRemove();
        });
    });

    </script>
</form>]]></template>
    <template title="search_result_report_comment" version_id="1030200" version_string="1.3.2"><![CDATA[<li id="report_comment-{$comment.report_comment_id}" class="searchResult report_comment primaryContent{xen:if $conversation_message.isIgnored, ' ignored'}" data-author="{$conversation_message.username}">
    <div class="listBlock posterAvatar"><xen:avatar user="$comment" size="s" img="true" /></div>

    <div class="listBlock main">
        <div class="titleText">
            <span class="contentType">{xen:if $comment.is_report, {xen:phrase sv_user_report}, {xen:phrase report_comment}}</span>
            <h3 class="title{xen:if {$report_comment.isNew}, ' new'}"><a href="{xen:link reports/comment, $report, 'report_comment_id={$comment.report_comment_id}'}">{xen:helper threadPrefix, $report}{xen:helper highlight, {xen:raw $report.contentTitle}, $search.search_query, 'highlight'}</a></h3>
        </div>

        <blockquote class="snippet">
            <a href="{xen:link reports/comment, $report, 'report_comment_id={$comment.report_comment_id}'}">
                {xen:helper snippet, $comment.message, 150, {xen:array 'term={$search.search_query}', 'emClass=highlight', 'stripQuote=1'}}
                <xen:if is="{$comment.operation_type}" >
                    <xen:if is="{$comment.operation_type} == 'new'" >
                        {xen:phrase sv_ri_operation_type_new}
                    <xen:elseif  is="{$comment.operation_type} == 'delete'" />
                        {xen:phrase sv_ri_operation_type_delete}
                    <xen:elseif  is="{$comment.operation_type} == 'expire'" />
                        {xen:phrase sv_ri_operation_type_expire}
                    <xen:elseif  is="{$comment.operation_type} == 'edit'" />
                        {xen:phrase sv_ri_operation_type_edit}
                    <xen:else />
                        {$comment.operation_type}
                    </xen:if>
                    {xen:phrase sv_x_warning_points_for_y, 'points={$comment.warning_points}', 'reason={$comment.title}'}

                    <xen:if is="{$comment.notes}">
                        {$comment.notes}
                    </xen:if>
                    <xen:if is="{$comment.state_change} && {$comment.state_change} != {$report.report_state}">
                        {$comment.stateChange}
                    </xen:if>
                </xen:if>
            </a>
        </blockquote>

        <div class="meta">
            <xen:if is="{$enableInlineMod} AND {$comment.canInlineMod}"><input type="checkbox" name="report_comment[]" value="{$comment.report_comment_id}" class="InlineModCheck" data-target="#message-{$comment.report_comment_id}" title="{xen:phrase sv_select_this_report_comment_by_x, 'name={$report_comment.username}'}" /></xen:if>
            {xen:if $comment.is_report, {xen:phrase sv_user_report_by}, {xen:phrase sv_report_comment_by}}: <xen:username user="$comment" />,
            <xen:datetime time="{$comment.comment_date}" />, {$report.reportState}
        </div>
    </div>
</li>]]></template>
    <template title="sv_reportimprovements_alert_preferences" version_id="1020100" version_string="1.2.1"><![CDATA[<xen:if is="{$visitor.permissions.general.viewReports}">
<h3 class="sectionHeader">{xen:phrase sv_report_center}</h3>
<dl class="ctrlUnit">
	<dt>{xen:phrase receive_alert_when_you_receive}...</dt>
	<dd>
		<ul>
			<li><input type="hidden" name="alertSet[report_comment_insert]" value="1" />
				<label><input type="checkbox" value="1" name="alert[report_comment_insert]" {xen:checked "!{$alertOptOuts.report_comment_insert}"} /> {xen:phrase new_report_comment}</label>
				<p class="hint">{xen:phrase someone_posts_a_new_report_comment}</p>
			</li>
			<li><input type="hidden" name="alertSet[report_comment_tag]" value="1" />
				<label><input type="checkbox" value="1" name="alert[report_comment_tag]" {xen:checked "!{$alertOptOuts.report_comment_tag}"} /> {xen:phrase tags_you_in_report_comment}</label>
				<p class="hint">{xen:phrase someone_tags_you_in_report_comment}</p>
			</li>
			<li><input type="hidden" name="alertSet[report_comment_like]" value="1" />
				<label><input type="checkbox" value="1" name="alert[report_comment_like]" {xen:checked "!{$alertOptOuts.report_comment_like}"} /> {xen:phrase likes_your_report_comment}</label>
				<p class="hint">{xen:phrase someone_likes_one_of_your_report_comment}</p>
			</li>
		</ul>
	</dd>
</dl>
</xen:if>]]></template>
    <template title="sv_report_comment_aftercontent" version_id="1010001" version_string="1.1.0 RC1"><![CDATA[<div class="messageMeta ToggleTriggerAnchor">
    <div class="privateControls">
    </div>

    <div class="publicControls">
        <xen:if is="{$comment.canLike}">
            <a href="{xen:link reports/like, $report, 'report_comment_id={$comment.report_comment_id}'}"
                class="LikeLink item control {xen:if $comment.like_date, unlike, like}" data-container="#likes-{$comment.report_comment_id}">
                <span></span>
                <span class="LikeLabel">{xen:if $comment.like_date, {xen:phrase unlike}, {xen:phrase like}}</span>
            </a>
        </xen:if>
    </div>
</div>
<div id="likes-{$comment.report_comment_id}">
    <xen:set var="$likesUrl">{xen:link reports/likes, $report, 'report_comment_id={$comment.report_comment_id}'}</xen:set>
    <xen:if is="{$comment.likes}">
        <xen:include template="likes_summary" >
        <xen:map from="$comment" to="$message" />
        </xen:include>
    </xen:if>
</div>]]></template>
    <template title="sv_report_comment_like" version_id="1010200" version_string="1.1.2"><![CDATA[<xen:title>{xen:phrase 'sv_report_comment_by_x', 'username={$comment.username}'} - {xen:if $like, '{xen:phrase sv_unlike_report_comment}', '{xen:phrase sv_like_report_comment}'}</xen:title>

<xen:navigation>
    <xen:breadcrumb source="$nodeBreadCrumbs" />
    <xen:breadcrumb href="{xen:link reports/comment, $report, 'report_comment_id={$comment.report_comment_id}'}">{xen:helper threadPrefix, $report}{$report.title}</xen:breadcrumb>
</xen:navigation>

<form action="{xen:link 'reports/like', $report, 'report_comment_id={$comment.report_comment_id}'}" method="post" class="xenForm">

    <dl class="ctrlUnit fullWidth">
        <dt></dt>
        <dd>
            <xen:if is="{$like}">
                {xen:phrase sv_you_sure_you_want_to_unlike_this_report_comment}
            <xen:else />
                {xen:phrase sv_you_sure_you_want_to_like_this_report_comment}
            </xen:if>
        </dd>
    </dl>

    <dl class="ctrlUnit submitUnit">
        <dt></dt>
        <dd><input type="submit" value="{xen:if $like, '{xen:phrase sv_unlike_report_comment}', '{xen:phrase sv_like_report_comment}'}" accesskey="s" class="button primary" autofocus="true" /></dd>
    </dl>

    <input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
</form>]]></template>
    <template title="sv_report_comment_likes" version_id="1010200" version_string="1.1.2"><![CDATA[<xen:title>{xen:phrase 'sv_report_comment_by_x', 'username={$comment.username}'} - {xen:phrase sv_members_who_liked_this_report_comment}</xen:title>

<xen:container var="$head.noindex">
    <meta name="robots" content="noindex" /></xen:container>

<xen:navigation>
    <xen:breadcrumb source="$nodeBreadCrumbs" />
    <xen:breadcrumb href="{xen:link reports/comment, $report, 'report_comment_id={$comment.report_comment_id}'}">{xen:helper threadPrefix, $report}{$report.title}</xen:breadcrumb>
</xen:navigation>

<div class="section">
    <ol class="overlayScroll">
    <xen:foreach loop="$likes" value="$like">
        <xen:include template="member_list_item">
            <xen:set var="$extraTemplate"><xen:datetime time="$like.like_date" /></xen:set>
            <xen:map from="$like" to="$user" />
        </xen:include>
    </xen:foreach>
    </ol>
    <div class="sectionFooter overlayOnly"><a class="button primary OverlayCloser">{xen:phrase close}</a></div>
</div>]]></template>
    <template title="sv_report_view_warning" version_id="1030400" version_string="1.3.4"><![CDATA[<xen:if is="{$comment.operation_type}">
<p class="warningLog">
<div class="pairsJustified">
<dl><dt>{xen:phrase warning_log_operation_type}</dt>
<dd class="warning_{$comment.operation_type}">
<xen:if is="{$comment.operation_type} == 'new'" >
    {xen:phrase sv_ri_operation_type_new}
<xen:elseif  is="{$comment.operation_type} == 'delete'" />
    {xen:phrase sv_ri_operation_type_delete}
<xen:elseif  is="{$comment.operation_type} == 'expire'" />
    {xen:phrase sv_ri_operation_type_expire}
<xen:elseif  is="{$comment.operation_type} == 'edit'" />
    {xen:phrase sv_ri_operation_type_edit}
<xen:elseif  is="{$comment.operation_type} == 'acknowledge'" />
    {xen:phrase sv_ri_operation_type_acknowledge}
<xen:else />
    {$comment.operation_type}
</xen:if>
</dd></dl>
<dl><dt>{xen:phrase warning}</dt><dd>{$comment.title}</dd></dl>
<dl><dt>{xen:phrase points}</dt><dd>{xen:number $comment.points}</dd></dl>
<dl><dt>{xen:phrase expiry}</dt><dd><xen:if is="{$comment.expiry_date}"><xen:datetime time="{$comment.expiry_date}" /><xen:else />{xen:phrase n_a}</xen:if></dd></dl>
<xen:if is="{$comment.warning_id}">
<dl><dt>{xen:phrase warning}</dt><dd><a href="{xen:link warnings, $comment}" class="OverlayTrigger secondaryContent">{xen:phrase view}</a></dd></dl>
</xen:if>
    <xen:if is="{$comment.notes}">
        {xen:phrase notes}:<br/>{xen:helper bodytext, $comment.notes}
    </xen:if>
</div>
</p>
</xen:if>]]></template>
  </templates>
  <public_template_modifications>
    <modification template="PAGE_CONTAINER" modification_key="SV_ReportImprovements_PAGE_CONTAINER1" description="Inject Moderator bar" execution_order="4345" enabled="1" action="str_replace">
      <find><![CDATA[<xen:if is="{$visitor.is_moderator} || {$visitor.is_admin}">]]></find>
      <replace><![CDATA[<xen:if is="{$visitor.is_moderator} || {$visitor.is_admin} || {$visitor.canViewReports}">]]></replace>
    </modification>
    <modification template="report_list" modification_key="SV_ReportImprovements_report_list" description="Inject Search bar" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#$#]]></find>
      <replace><![CDATA[<xen:container var="$searchBar.reports"><xen:include template="search_bar_reports_only" /></xen:container>]]></replace>
    </modification>
    <modification template="report_list_closed" modification_key="SV_ReportImprovements_report_list_closed" description="Inject Search bar" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#$#]]></find>
      <replace><![CDATA[<xen:container var="$searchBar.reports"><xen:include template="search_bar_reports_only" /></xen:container>]]></replace>
    </modification>
    <modification template="report_list_item" modification_key="SV_ReportImprovements_report_list_item" description="Hide last active username" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:username user="$report.lastModifiedInfo" />]]></find>
      <replace><![CDATA[<xen:if is="{$canViewReporterUsername} || {$report.lastModifiedInfo.user_id} == {$visitor.user_id}">
$0
<xen:else/>
<span class="username guest dimmed">{xen:phrase guest}</span>
</xen:if>]]></replace>
    </modification>
    <modification template="report_search" modification_key="SV_ReportImprovements_report_search1" description="Inject Search bar" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#$#]]></find>
      <replace><![CDATA[<xen:container var="$searchBar.reports"><xen:include template="search_bar_reports_only" /></xen:container>]]></replace>
    </modification>
    <modification template="report_view" modification_key="SV_ReportImprovements_report_view1" description="Add anchor tags" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(<li class="primaryContent reportComment)([^"]+")#si]]></find>
      <replace><![CDATA[<xen:require css="message_simple.css" />
$1 messageSimple $2 id="reportComment-{$comment.report_comment_id}"]]></replace>
    </modification>
    <modification template="report_view" modification_key="SV_ReportImprovements_report_view2" description="Add User Tagging support" execution_order="20" enabled="1" action="preg_replace">
      <find><![CDATA[#(<textarea name="comment" .*? class=".*?)(")#si]]></find>
      <replace><![CDATA[$1 UserTagger$2]]></replace>
    </modification>
    <modification template="report_view" modification_key="SV_ReportImprovements_report_view3" description="Insert extra state tracking into the report comments." execution_order="30" enabled="1" action="preg_replace">
      <find><![CDATA[#(<div class="content">.*?)(\s*</div>\s*</li>)#si]]></find>
      <replace><![CDATA[$1
<xen:include template="sv_report_view_warning" />
$2]]></replace>
    </modification>
    <modification template="report_view" modification_key="SV_ReportImprovements_report_view4" description="Inject public controls" execution_order="40" enabled="1" action="preg_replace">
      <find><![CDATA[#(<div class="content">.*?)(\s*</div>)(\s*</li>)#si]]></find>
      <replace><![CDATA[$1$2
<xen:include template="sv_report_comment_aftercontent" />
$3]]></replace>
    </modification>
    <modification template="report_view" modification_key="SV_ReportImprovements_report_view5" description="Inject Search bar" execution_order="50" enabled="1" action="preg_replace">
      <find><![CDATA[#$#]]></find>
      <replace><![CDATA[<xen:container var="$searchBar.reports"><xen:include template="search_bar_reports_only" /></xen:container>]]></replace>
    </modification>
    <modification template="report_view" modification_key="SV_ReportImprovements_report_view6" description="Insert extra state tracking into the report comments." execution_order="60" enabled="1" action="preg_replace">
      <find><![CDATA[#(<div class="content">.*?)(\s*<xen:if is="{\$comment.message)#si]]></find>
      <replace><![CDATA[$1
<xen:if is="{$comment.alertSent}">
<xen:if is="{$comment.alertComment}">
<p class="statusChange">{xen:phrase report_alert_sent_x, 'alert={$comment.alertComment}'}</p>
<xen:else/>
<p class="statusChange">{xen:phrase report_alert_sent}</p>
</xen:if>
</xen:if>
$2]]></replace>
    </modification>
    <modification template="report_view" modification_key="SV_ReportImprovements_report_view7" description="Can Comment - general" execution_order="70" enabled="1" action="preg_replace">
      <find><![CDATA[#(\s*)(<li class="primaryContent".*?<form action="{xen:link reports/comment.*?</form>.*?</li>)#si]]></find>
      <replace><![CDATA[$1<xen:if is="{$canCommentReport}">
$1$2$1</xen:if>]]></replace>
    </modification>
    <modification template="report_view" modification_key="SV_ReportImprovements_report_view8" description="Can Comment - update" execution_order="80" enabled="1" action="preg_replace">
      <find><![CDATA[#(<div class="updateStatus">.*?)(\s*)(<textarea name="comment".*?</div>)#si]]></find>
      <replace><![CDATA[$1$2<xen:if is="{$canCommentReport}">
$2$3$2</xen:if>]]></replace>
    </modification>
    <modification template="search_form_tabs" modification_key="SV_ReportImprovements_search_form_tabs" description="Inject Search Tab" execution_order="4345" enabled="1" action="preg_replace">
      <find><![CDATA[#(<xen\:hook name\="search_form_tabs".*?)(\s*<li{xen:if "{\$searchType}.*?)(\s*</xen\:hook>)#si]]></find>
      <replace><![CDATA[$1$2
<xen:if is="{$visitor.is_moderator} || {$visitor.canViewReports}">
<li{xen:if "{$searchType} == 'report_comment'", ' class="active"'}><a href="{xen:link search, '', 'type=report_comment'}">{xen:phrase search_report_comments}</a></li>
</xen:if>
$3]]></replace>
    </modification>
    <modification template="member_warn" modification_key="sv_integrated_report_member_warn_ir_options" description="Inject more options" execution_order="4345" enabled="1" action="preg_replace">
      <find><![CDATA[#(<fieldset>.*?{xen:phrase notes}.*?</fieldset>)#s]]></find>
      <replace><![CDATA[$1
<xen:include template="member_warn_ir_options" />]]></replace>
    </modification>
    <modification template="moderation_queue_list" modification_key="sv_integrated_report_moderation_queue_list" description="Add Spam Cleaner to moderation queue" execution_order="100" enabled="1" action="str_replace">
      <find><![CDATA[{$entry.content.user.username}</a>]]></find>
      <replace><![CDATA[$0<a style="margin-left:30px" target="_blank" href="spam-cleaner/{$entry.content.user.user_id}/?noredirect=1">Spam Cleaner</a>]]></replace>
    </modification>
    <modification template="report_list_item" modification_key="sv_integrated_report_report_list_item2" description="Add node where relevent to the report list" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(<div class="posterDate muted">.*)(\s*)(</div>)#Usi]]></find>
      <replace><![CDATA[$1
<xen:include template="report_list_item_report_node" />
$2$3]]></replace>
    </modification>
    <modification template="conversation_message_report" modification_key="sv_report_improvements_conversation_message_report" description="Add User Tagging support" execution_order="20" enabled="1" action="preg_replace">
      <find><![CDATA[#(<textarea name="message" .*? class=".*?)(")#si]]></find>
      <replace><![CDATA[$1 UserTagger$2]]></replace>
    </modification>
    <modification template="member_report" modification_key="sv_report_improvements_member_report" description="Add User Tagging support" execution_order="20" enabled="1" action="preg_replace">
      <find><![CDATA[#(<textarea name="message" .*? class=".*?)(")#si]]></find>
      <replace><![CDATA[$1 UserTagger$2]]></replace>
    </modification>
    <modification template="moderator_bar" modification_key="sv_report_improvements_moderator_bar" description="Extend when Report counts can be seen." execution_order="4345" enabled="1" action="str_replace">
      <find><![CDATA[<xen:if is="{$visitor.is_moderator} && !{$xenOptions.reportIntoForumId}">]]></find>
      <replace><![CDATA[<xen:if is="({$visitor.is_moderator} || {$visitor.canViewReports}) && !{$xenOptions.reportIntoForumId}">]]></replace>
    </modification>
    <modification template="post_report" modification_key="sv_report_improvements_post_report" description="Add User Tagging support" execution_order="20" enabled="1" action="preg_replace">
      <find><![CDATA[#(<textarea name="message" .*? class=".*?)(")#si]]></find>
      <replace><![CDATA[$1 UserTagger$2]]></replace>
    </modification>
    <modification template="profile_post_report" modification_key="sv_report_improvements_profile_post_report" description="Add User Tagging support" execution_order="20" enabled="1" action="preg_replace">
      <find><![CDATA[#(<textarea name="message" .*? class=".*?)(")#si]]></find>
      <replace><![CDATA[$1 UserTagger$2]]></replace>
    </modification>
    <modification template="report_comment_report" modification_key="sv_report_improvements_report_comment_report" description="Add User Tagging support" execution_order="20" enabled="1" action="preg_replace">
      <find><![CDATA[#(<textarea name="message" .*? class=".*?)(")#si]]></find>
      <replace><![CDATA[$1 UserTagger$2]]></replace>
    </modification>
    <modification template="warning_info" modification_key="sv_report_improvements_warning_info1" description="Show Report info on warning" execution_order="5" enabled="1" action="str_replace">
      <find><![CDATA[<xen:if is="{$canDeleteWarning} AND {$canExpireWarning}">]]></find>
      <replace><![CDATA[<xen:include template="ir_report_display" />
$0]]></replace>
    </modification>
    <modification template="warning_info" modification_key="sv_report_improvements_warning_info2" description="Show resolve options for reports &amp; warnings" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(<form\s+action="{xen:link\s+warnings/.*?)(\s*)(<dl)#msi]]></find>
      <replace><![CDATA[$1$2<xen:include template="ir_resolve_report" />
$2$3]]></replace>
    </modification>
    <modification template="account_alert_preferences" modification_key="sv_reportimpro_account_alert_preferences" description="" execution_order="4345" enabled="1" action="str_replace">
      <find><![CDATA[<xen:hook name="account_alerts_extra" />]]></find>
      <replace><![CDATA[$0
<xen:include template="sv_reportimprovements_alert_preferences" />]]></replace>
    </modification>
  </public_template_modifications>
  <bb_code_media_sites/>
  <bb_codes/>
</addon>
